{% extends 'base.html' %}
{% block body %}

        <!-- Link allow you to use python with HTML -->
        <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script> 
        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<!-- <style>
    .container {
        background-color: black;
        color: white;
    }

</style> -->


  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <b><a class="navbar-brand" href="{{url_for('index')}}">Home</a></b>
      <ul class="navbar-nav mr-auto">
 


 
          <li class="nav-item">
             <b><a class="nav-link" href="{{url_for('logout')}}">Logout</a></b>
         </li>
      </ul>
    </div>
  </nav>

  <!-- <script>
    function updateTime() {
    const timer = document.getElementById("timer");
    const enableButton = document.getElementById("enableButton");
    const container = document.querySelector(".w3-container");
  
    // Set the end date to 30 days from now
    const endDate = new Date();
    endDate.setDate(endDate.getDate() + 30);
  
    // Calculate the remaining time in milliseconds
    const remainingTime = endDate.getTime() - new Date().getTime();
  
    // Convert remaining time to days, hours, minutes, and seconds
    let remainingSeconds = Math.ceil(remainingTime / 1000);
    const remainingMinutes = Math.floor(remainingSeconds / 60);
    const remainingHours = Math.floor(remainingMinutes / 60);
    const remainingDays = Math.floor(remainingHours / 24);
  
    // Calculate the remaining time as a string
    const remainingTimeString = `${remainingDays}d ${remainingHours % 24}h ${remainingMinutes % 60}m ${remainingSeconds % 60}s`;
  
    // Update the timer element with the remaining time
    timer.innerHTML = remainingTimeString;
  
    // Change background color of the container based on remaining time
    if (remainingDays <= 5) {
      container.style.backgroundColor = "red";
    } else if (remainingDays <= 10) {
      container.style.backgroundColor = "yellow";
    } else {
      container.style.backgroundColor = "green";
    }
  
    // Enable the button after 30 days
    if (remainingTime <= 0) {
    }
    
    // Display countdown of hours, minutes, and seconds
    const minutesString = `${(remainingMinutes % 60).toString().padStart(2, "0")}:`;
    const secondsString = `${(remainingSeconds % 60).toString().padStart(2, "0")}`;
    timer.innerHTML = `${hoursString}${minutesString}${secondsString}`;
  
    // Stop the timer when remaining time reaches 0
    if (remainingTime <= 0) {
      clearInterval(intervalId);
      timer.innerHTML = `00:00:00 (0d 0h 0m 0s)`;
    }
  
    remainingSeconds--;
  } -->
  
  <!-- // Call the updateTime function every second
  const intervalId = setInterval(updateTime, 1000); -->
  
  <!-- </script> -->

    <!-- Header -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
    <div class="jumbotron jumbotron-sm">
        <div class="container">
            <div class="row d-flex justify-content-center">

                <div class="col-xs-9">
                    <h1>The Reading Circle</h1>
                    <p>Experience the joy of reading with The Reading Circle - where every book is a new adventure!</p>
                </div>
            </div>
        </div>
    </div>
  </br>


    <div class="w3-row-padding w3-content" style="max-width:1400px; display: flex; justify-content: center;">
      <div class="w3-twothird">
        <!-- Timer bar -->
          <div class="w3-row-padding w3-content w3-card-4" style="max-width:1400px">
            <div class="w3-container w3-animate-zoom w3-left-align">
              <!-- <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>Time remaining: <span id="timer"></span></h3>
                <button class="btn btn-primary" id="enableButton" disabled>Enable after 30 days</button>
              </div> -->
            </div>
          </div>
        <table class=" table w3-table w3-striped w3-border w3-hoverable w3-card-4">
          <thead>
              <tr class="w3-light-grey w3-large">
                  <!-- <th>ID</th> -->
                  <th>Id</th>
                  <th>Title</th>
                  <th>Main Owner</th>
                  <th>New Owner</th>
                  <th>Book Id</th>
                  <th>User Id</th>
              </tr>
          </thead>
          <tbody>
            {% for swap in swaps %}

                <tr>
                    <td>{{swap.id}}</td>
                    <td>{{swap.title}}</td>
                    <td>{{swap.main_owner}}</td>
                    <td>{{swap.new_owner}}</td>
                    <td>{{swap.bookid}}</td>
                    <td>{{swap.userid}}</td>

                </tr>
                </tbody>
            {% endfor %}
        </table>
        
      </div>

    



      </div>  
<!-- Meeting point -->
<div id="meeting_modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
     <div class="modal-content">
        <div class="modal-header">
           <h4 class="modal-title">Meeting Point</h4>
        </div>
        <div class="modal-body ">
           <p>
              The book exchange will take place at a common meet point <b>every last saturday of the month.</b></br>
              Meeting point: <b><u>Santa Clara Convention Centre at 9am</u></b>
           </p>

        </div>


        <div class="modal-footer">
           <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

        </div>

     </div>
  </div>

</div> 

<style>
  .jumbotron-sm {
  padding-top: 10px;
  padding-bottom: 10px;
  margin-bottom: 0px;
}

.jumbotron-sm h1 {
  font-size: 24px;
}

.jumbotron-sm p {
  font-size: 14px;
}
</style>

{% endblock %}